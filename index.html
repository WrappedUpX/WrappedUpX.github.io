<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Sign in - MOT Testing Service</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* GOV.UK Colours */
    .gov-black { background: #0B0C0C; color: #0B0C0C; }
    .gov-white { background: #FFFFFF; color: #0B0C0C; }
    .gov-green { background: #00703C; color: #FFFFFF; }
    .gov-green-dark { background: #005A31; color: #FFFFFF; }
    .gov-red { background: #D4351C; color: #FFFFFF; }
    .gov-red-light { background: #F3CFCB; color: #0B0C0C; }
    .gov-grey { background: #F3F2F1; color: #0B0C0C; }
    .gov-border { border-color: #B1B4B6; }
    .gov-focus { outline: 3px solid #FFBF47; outline-offset: 0; }
  </style>
</head>

<body class="gov-grey min-h-screen flex flex-col text-base">

  <!-- GOV.UK Header Bar -->
  <header class="gov-black px-6 py-2">
    <div class="max-w-3xl mx-auto">
      <span class="font-bold text-lg text-white">GOV.UK</span>
    </div>
  </header>

  <!-- Service Title -->
  <div class="gov-white border-b border-gray-300 px-6 py-4">
    <div class="max-w-3xl mx-auto">
      <h2 class="text-xl font-bold">MOT testing service</h2>
    </div>
  </div>

  <!-- Main Content -->
  <main class="flex-grow px-6 py-10">
    <div class="max-w-3xl mx-auto">

      <h1 class="text-3xl font-bold mb-6">Sign in</h1>

      <!-- Error Summary -->
      <div
        id="error-summary"
        class="gov-red-light border-l-4 border-red-600 p-4 mb-6 hidden"
        role="alert"
        aria-labelledby="error-summary-title"
        tabindex="-1"
      >
        <h2 id="error-summary-title" class="font-bold gov-red mb-2 text-lg">
          There is a problem
        </h2>
        <ul id="error-list" class="list-disc list-inside text-base gov-red"></ul>
      </div>

      <!-- Form -->
      <form id="login-form" novalidate>

        <!-- User ID Field -->
        <div class="mb-4">
          <label class="font-bold block mb-1" for="userId">User ID</label>
          <span class="block text-sm text-gray-700 mb-1">
            This is the ID you were given when you registered
          </span>
          <input
            type="text"
            id="userId"
            name="userId"
            class="w-full border gov-border px-3 py-2 focus:gov-focus"
            aria-describedby="userId-error"
          />
          <p id="userId-error" class="text-red-600 text-sm mt-1 hidden"></p>
        </div>

        <!-- Password Field -->
        <div class="mb-4">
          <label class="font-bold block mb-1" for="password">Password</label>
          <input
            type="password"
            id="password"
            name="password"
            class="w-full border gov-border px-3 py-2 focus:gov-focus"
            aria-describedby="password-error"
          />
          <p id="password-error" class="text-red-600 text-sm mt-1 hidden"></p>
        </div>

        <!-- Remember me -->
        <div class="mb-6 flex items-center">
          <input
            type="checkbox"
            id="remember"
            name="remember"
            class="h-4 w-4 gov-border"
          />
          <label class="ml-2" for="remember">Remember me</label>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="gov-green hover:gov-green-dark font-bold px-4 py-2"
        >
          Sign in
        </button>

      </form>

      <!-- Support Links -->
      <div class="mt-8 text-sm space-y-2">
        <p>
          <a class="text-blue-700 underline gov-link" href="#">
            Forgotten your password?
          </a>
        </p>
        <p>
          <a class="text-blue-700 underline gov-link" href="#">
            Get help signing in
          </a>
        </p>
      </div>

    </div>
  </main>

  <!-- Footer -->
  <footer class="gov-grey border-t border-gray-300 text-sm text-gray-700 px-6 py-6">
    <div class="max-w-3xl mx-auto space-y-2">
      <div class="flex flex-wrap gap-4">
        <a class="text-blue-700 underline gov-link" href="#">Cookies</a>
        <a class="text-blue-700 underline gov-link" href="#">Privacy</a>
        <a class="text-blue-700 underline gov-link" href="#">Terms and conditions</a>
        <a class="text-blue-700 underline gov-link" href="#">Accessibility statement</a>
      </div>
      <p>Â© Crown copyright</p>
    </div>
  </footer>

  <!-- Client-Side Validation Script -->
  <script>
    const form = document.getElementById("login-form");
    const errorSummary = document.getElementById("error-summary");
    const errorList = document.getElementById("error-list");

    form.addEventListener("submit", function (event) {
      event.preventDefault();
      errorList.innerHTML = "";
      errorSummary.classList.add("hidden");

      let errors = [];

      const userId = document.getElementById("userId");
      const password = document.getElementById("password");

      // Clear old errors
      [userId, password].forEach(field => {
        const errEl = document.getElementById(field.id + "-error");
        errEl.classList.add("hidden");
        field.classList.remove("gov-border", "border-red-600");
      });

      // User ID Validation
      if (!userId.value.trim()) {
        errors.push({ field: userId, message: "Enter your user ID" });
      }

      // Password Validation
      if (!password.value.trim()) {
        errors.push({ field: password, message: "Enter your password" });
      }

      // Process Errors
      if (errors.length > 0) {
        errorSummary.classList.remove("hidden");
        errors.forEach(err => {
          // Add to global error list
          const li = document.createElement("li");
          li.textContent = err.message;
          errorList.appendChild(li);

          // Inline field error
          const fieldError = document.getElementById(err.field.id + "-error");
          fieldError.textContent = err.message;
          fieldError.classList.remove("hidden");
          err.field.classList.add("border-red-600");
        });

        errorSummary.focus();
      } else {
        alert("Form submitted (mock)");
      }
    });
  </script>

</body>
</html>
